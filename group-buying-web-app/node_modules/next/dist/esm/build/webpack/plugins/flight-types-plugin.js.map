{"version":3,"sources":["../../../../build/webpack/plugins/flight-types-plugin.ts"],"names":["path","promises","fs","webpack","sources","WEBPACK_LAYERS","PLUGIN_NAME","createTypeGuardFile","fullPath","relativePath","options","slots","map","slot","join","type","collectNamedSlots","layoutPath","layoutDir","dirname","items","readdir","withFileTypes","item","isDirectory","name","startsWith","push","slice","FlightTypesPlugin","constructor","dir","appDir","dev","isEdgeServer","apply","compiler","assetPrefix","handleModule","_mod","assets","layer","server","mod","resource","sep","test","IS_LAYOUT","IS_PAGE","relativePathToApp","relative","relativePathToRoot","typePath","replace","relativeImportPath","assetPath","RawSource","hooks","compilation","tap","processAssets","tapAsync","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","callback","entrypoint","entrypoints","values","chunk","chunks","chunkGraph","getChunkModules","forEach","Promise","all"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM,CAAA;AACvB,SAASC,QAAQ,IAAIC,EAAE,QAAQ,IAAI,CAAA;AAEnC,SAASC,OAAO,EAAEC,OAAO,QAAQ,oCAAoC,CAAA;AACrE,SAASC,cAAc,QAAQ,wBAAwB,CAAA;AAEvD,MAAMC,WAAW,GAAG,mBAAmB;AASvC,SAASC,mBAAmB,CAC1BC,QAAgB,EAChBC,YAAoB,EACpBC,OAGC,EACD;IACA,OAAO,CAAC,SAAS,EAAEF,QAAQ,CAAC;wBACN,EAAEC,YAAY,CAAC;;;;;;;;;;;;AAYvC,EACEC,OAAO,CAACC,KAAK,GACTD,OAAO,CAACC,KAAK,CAACC,GAAG,CAAC,CAACC,IAAI,GAAK,CAAC,EAAE,EAAEA,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,GACpE,EAAE,CACP;;;;;;;;EAQC,EACEJ,OAAO,CAACK,IAAI,KAAK,QAAQ,GACrB,CAAC,wBAAwB,CAAC,GAC1B,CAAC,sBAAsB,CAAC,CAC7B;;;;;;;;EAQD,EACEL,OAAO,CAACK,IAAI,KAAK,MAAM,GACnB,mDAAmD,GACnD,EAAE,CACP;;;;;;;;;;;;;;AAcH,CAAC,CAAA;CACA;AAED,eAAeC,iBAAiB,CAACC,UAAkB,EAAE;IACnD,MAAMC,SAAS,GAAGlB,IAAI,CAACmB,OAAO,CAACF,UAAU,CAAC;IAC1C,MAAMG,KAAK,GAAG,MAAMlB,EAAE,CAACmB,OAAO,CAACH,SAAS,EAAE;QAAEI,aAAa,EAAE,IAAI;KAAE,CAAC;IAClE,MAAMX,KAAK,GAAG,EAAE;IAChB,KAAK,MAAMY,IAAI,IAAIH,KAAK,CAAE;QACxB,IAAIG,IAAI,CAACC,WAAW,EAAE,IAAID,IAAI,CAACE,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;YACnDf,KAAK,CAACgB,IAAI,CAACJ,IAAI,CAACE,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC;SAC/B;KACF;IACD,OAAOjB,KAAK,CAAA;CACb;AAED,OAAO,MAAMkB,iBAAiB;IAM5BC,YAAYpB,OAAgB,CAAE;QAC5B,IAAI,CAACqB,GAAG,GAAGrB,OAAO,CAACqB,GAAG;QACtB,IAAI,CAACC,MAAM,GAAGtB,OAAO,CAACsB,MAAM;QAC5B,IAAI,CAACC,GAAG,GAAGvB,OAAO,CAACuB,GAAG;QACtB,IAAI,CAACC,YAAY,GAAGxB,OAAO,CAACwB,YAAY;KACzC;IAEDC,KAAK,CAACC,QAA0B,EAAE;QAChC,MAAMC,WAAW,GAAG,IAAI,CAACJ,GAAG,GAAG,IAAI,GAAG,IAAI,CAACC,YAAY,GAAG,IAAI,GAAG,OAAO;QAExE,MAAMI,YAAY,GAAG,OAAOC,IAAoB,EAAEC,MAAW,GAAK;YAChE,IAAID,IAAI,CAACE,KAAK,KAAKpC,cAAc,CAACqC,MAAM,EAAE,OAAM;YAChD,MAAMC,GAAG,GAAyBJ,IAAI,AAAO;YAE7C,IAAI,CAACI,GAAG,CAACC,QAAQ,EAAE,OAAM;YACzB,IAAI,CAACD,GAAG,CAACC,QAAQ,CAAClB,UAAU,CAAC,IAAI,CAACM,MAAM,GAAGhC,IAAI,CAAC6C,GAAG,CAAC,EAAE,OAAM;YAC5D,IAAI,CAAC,yBAAyBC,IAAI,CAACH,GAAG,CAACC,QAAQ,CAAC,EAAE,OAAM;YAExD,MAAMG,SAAS,GAAG,yBAAyBD,IAAI,CAACH,GAAG,CAACC,QAAQ,CAAC;YAC7D,MAAMI,OAAO,GAAG,CAACD,SAAS,IAAI,oBAAoBD,IAAI,CAACH,GAAG,CAACC,QAAQ,CAAC;YACpE,MAAMK,iBAAiB,GAAGjD,IAAI,CAACkD,QAAQ,CAAC,IAAI,CAAClB,MAAM,EAAEW,GAAG,CAACC,QAAQ,CAAC;YAClE,MAAMO,kBAAkB,GAAGnD,IAAI,CAACkD,QAAQ,CAAC,IAAI,CAACnB,GAAG,EAAEY,GAAG,CAACC,QAAQ,CAAC;YAEhE,MAAMQ,QAAQ,GAAGpD,IAAI,CAACc,IAAI,CACxB,OAAO,EACP,KAAK,EACLmC,iBAAiB,CAACI,OAAO,2BAA2B,KAAK,CAAC,CAC3D;YACD,MAAMC,kBAAkB,GAAGtD,IAAI,CAC5Bc,IAAI,CACHd,IAAI,CAACkD,QAAQ,CAACE,QAAQ,EAAE,EAAE,CAAC,EAC3BD,kBAAkB,CAACE,OAAO,2BAA2B,EAAE,CAAC,CACzD,CACAA,OAAO,QAAQ,GAAG,CAAC;YACtB,MAAME,SAAS,GAAGlB,WAAW,GAAG,GAAG,GAAGe,QAAQ,CAACC,OAAO,QAAQ,GAAG,CAAC;YAElE,IAAIN,SAAS,EAAE;gBACb,MAAMpC,KAAK,GAAG,MAAMK,iBAAiB,CAAC2B,GAAG,CAACC,QAAQ,CAAC;gBACnDJ,MAAM,CAACe,SAAS,CAAC,GAAG,IAAInD,OAAO,CAACoD,SAAS,CACvCjD,mBAAmB,CAACoC,GAAG,CAACC,QAAQ,EAAEU,kBAAkB,EAAE;oBACpDvC,IAAI,EAAE,QAAQ;oBACdJ,KAAK;iBACN,CAAC,CACH,AAAwC;aAC1C,MAAM,IAAIqC,OAAO,EAAE;gBAClBR,MAAM,CAACe,SAAS,CAAC,GAAG,IAAInD,OAAO,CAACoD,SAAS,CACvCjD,mBAAmB,CAACoC,GAAG,CAACC,QAAQ,EAAEU,kBAAkB,EAAE;oBACpDvC,IAAI,EAAE,MAAM;iBACb,CAAC,CACH,AAAwC;aAC1C;SACF;QAEDqB,QAAQ,CAACqB,KAAK,CAACC,WAAW,CAACC,GAAG,CAACrD,WAAW,EAAE,CAACoD,WAAW,GAAK;YAC3DA,WAAW,CAACD,KAAK,CAACG,aAAa,CAACC,QAAQ,CACtC;gBACEpC,IAAI,EAAEnB,WAAW;gBACjBwD,KAAK,EAAE3D,OAAO,CAAC4D,WAAW,CAACC,kCAAkC;aAC9D,EACD,OAAOxB,MAAM,EAAEyB,QAAQ,GAAK;gBAC1B,MAAMhE,QAAQ,GAAmB,EAAE;gBACnC,KAAK,MAAMiE,UAAU,IAAIR,WAAW,CAACS,WAAW,CAACC,MAAM,EAAE,CAAE;oBACzD,KAAK,MAAMC,KAAK,IAAIH,UAAU,CAACI,MAAM,CAAE;wBACrCZ,WAAW,CAACa,UAAU,CAACC,eAAe,CAACH,KAAK,CAAC,CAACI,OAAO,CAAC,CAAC9B,GAAG,GAAK;4BAC7D1C,QAAQ,CAAC0B,IAAI,CAACW,YAAY,CAACK,GAAG,EAAEH,MAAM,CAAC,CAAC;yBACzC,CAAC;qBACH;iBACF;gBACD,MAAMkC,OAAO,CAACC,GAAG,CAAC1E,QAAQ,CAAC;gBAC3BgE,QAAQ,EAAE;aACX,CACF;SACF,CAAC;KACH;CACF"}