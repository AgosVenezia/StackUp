Object.defineProperty(exports, "__esModule", { value: true });
var graphql_1 = require("graphql");
/**
 * @category Selection Set Utility
 */
function parseSelectionSet(selectionSet) {
    var query = graphql_1.parse(selectionSet).definitions[0];
    return query.selectionSet;
}
exports.parseSelectionSet = parseSelectionSet;
/**
 * @category Selection Set Utility
 */
function typeContainsSelectionSet(type, selectionSet) {
    var fields = type.getFields();
    for (var _i = 0, _a = selectionSet.selections; _i < _a.length; _i++) {
        var selection = _a[_i];
        if (selection.kind === graphql_1.Kind.FIELD) {
            var field = fields[selection.name.value];
            if (field == null) {
                return false;
            }
            if (selection.selectionSet != null) {
                return typeContainsSelectionSet(graphql_1.getNamedType(field.type), selection.selectionSet);
            }
        }
        else if (selection.kind === graphql_1.Kind.INLINE_FRAGMENT) {
            var containsSelectionSet = typeContainsSelectionSet(type, selection.selectionSet);
            if (!containsSelectionSet) {
                return false;
            }
        }
    }
    return true;
}
exports.typeContainsSelectionSet = typeContainsSelectionSet;
//# sourceMappingURL=selectionSets.js.map